import{g as o,j as r}from"./D45bH7k1.js";const s={__name:"redirect",setup(c){const t=o();return r(async()=>{const e=await $fetch(localStorage.getItem("token_endpoint"),{method:"POST",body:JSON.stringify({grant_type:"authorization_code",client_id:"https://quest.howeverina.studio/login",redirect_uri:"https://quest.howeverina.studio/redirect",scope:"read:account write:notes read:reactions",code:t.query.code,code_verifier:localStorage.getItem("code_verifier")}),headers:{"Content-Type":"application/json"}});localStorage.setItem("accessToken",e.access_token),console.log(localStorage.getItem("accessToken"))}),(e,a)=>null}};export{s as default};
